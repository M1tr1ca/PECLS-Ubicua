<mxfile host="65bd71144e">
    <diagram name="Modelo Entidad-Relación" id="modelo-er">
        <mxGraphModel dx="1936" dy="795" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1654" pageHeight="2339" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="titulo" value="&lt;b&gt;&lt;font style=&quot;font-size: 28px;&quot;&gt;MODELO ENTIDAD-RELACIÓN&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;Base de Datos PostgreSQL - Sistema IoT Smart City&lt;/font&gt;&lt;br&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;UAH - Computación Ubicua&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="427" y="40" width="800" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="streets-entity" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;strokeWidth=3;" parent="1" vertex="1">
                    <mxGeometry x="240" y="170" width="280" height="240" as="geometry"/>
                </mxCell>
                <mxCell id="streets-header" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;STREETS&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#6c8ebf;strokeColor=#6c8ebf;strokeWidth=2;fontColor=#FFFFFF;" parent="1" vertex="1">
                    <mxGeometry x="240" y="160" width="280" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="streets-attrs" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;u&gt;street_id&lt;/u&gt;&lt;/b&gt; : TEXT (PK)&lt;br&gt;street_name : TEXT&lt;br&gt;district : TEXT&lt;br&gt;neighborhood : TEXT&lt;br&gt;latitude_start : DOUBLE PRECISION&lt;br&gt;latitude_end : DOUBLE PRECISION&lt;br&gt;longitude_start : DOUBLE PRECISION&lt;br&gt;longitude_end : DOUBLE PRECISION&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;spacingLeft=10;fontSize=11;" parent="1" vertex="1">
                    <mxGeometry x="250" y="210" width="260" height="180" as="geometry"/>
                </mxCell>
                <mxCell id="sensors-entity" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;strokeWidth=3;" parent="1" vertex="1">
                    <mxGeometry x="654.4399999999999" y="640" width="280" height="160" as="geometry"/>
                </mxCell>
                <mxCell id="sensors-header" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;SENSORS&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#82b366;strokeColor=#82b366;strokeWidth=2;fontColor=#FFFFFF;" parent="1" vertex="1">
                    <mxGeometry x="654.4399999999999" y="640" width="280" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="sensors-attrs" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;&lt;u&gt;sensor_id&lt;/u&gt;&lt;/b&gt; : TEXT (PK)&lt;br&gt;sensor_type : TEXT NOT NULL&lt;br&gt;&lt;i&gt;&lt;font color=&quot;#6c8ebf&quot;&gt;street_id&lt;/font&gt;&lt;/i&gt; : TEXT (FK)&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;spacingLeft=10;fontSize=11;" parent="1" vertex="1">
                    <mxGeometry x="664.4399999999999" y="690" width="260" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="rel-streets-sensors" value="" style="endArrow=ERmany;startArrow=ERone;html=1;rounded=0;strokeWidth=3;strokeColor=#82b366;exitX=1.009;exitY=0.462;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;startFill=0;endFill=0;exitPerimeter=0;" parent="1" source="streets-entity" target="sensors-header" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="700" y="500" as="sourcePoint"/>
                        <mxPoint x="750" y="450" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="rel-label-1" value="&lt;b&gt;ubicada en&lt;/b&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;fontStyle=1" parent="rel-streets-sensors" vertex="1" connectable="0">
                    <mxGeometry x="-0.1" y="1" relative="1" as="geometry">
                        <mxPoint x="-33" y="28" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="rel-card-streets" value="1" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;fontStyle=1" parent="rel-streets-sensors" vertex="1" connectable="0">
                    <mxGeometry x="-0.8" y="1" relative="1" as="geometry">
                        <mxPoint x="3" y="-37" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="rel-card-sensors" value="N" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;fontStyle=1" parent="rel-streets-sensors" vertex="1" connectable="0">
                    <mxGeometry x="0.8" y="1" relative="1" as="geometry">
                        <mxPoint x="-10" y="11" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="sensor-readings-entity" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;strokeWidth=3;" parent="1" vertex="1">
                    <mxGeometry x="240" y="610" width="320" height="220" as="geometry"/>
                </mxCell>
                <mxCell id="sensor-readings-header" value="&lt;b&gt;&lt;font style=&quot;font-size: 15px;&quot;&gt;SENSOR_READINGS&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size: 11px;&quot;&gt;(Estación Meteorológica)&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d6b656;strokeColor=#d6b656;strokeWidth=2;fontColor=#FFFFFF;" parent="1" vertex="1">
                    <mxGeometry x="240" y="610" width="320" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="sensor-readings-attrs" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;i&gt;&lt;font color=&quot;#82b366&quot;&gt;sensor_id&lt;/font&gt;&lt;/i&gt; : TEXT (FK)&lt;br&gt;&lt;b&gt;timestamp&lt;/b&gt; : TIMESTAMP&lt;br&gt;temperature_celsius : DOUBLE PRECISION&lt;br&gt;humidity_percent : DOUBLE PRECISION&lt;br&gt;atmospheric_pressure_hpa : DOUBLE PRECISION&lt;br&gt;altitude_meters : DOUBLE PRECISION&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;spacingLeft=10;fontSize=11;" parent="1" vertex="1">
                    <mxGeometry x="250" y="670" width="300" height="150" as="geometry"/>
                </mxCell>
                <mxCell id="rel-sensors-readings" value="" style="endArrow=ERmany;startArrow=ERone;html=1;rounded=0;strokeWidth=3;strokeColor=#d6b656;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;startFill=0;endFill=0;" parent="1" source="sensors-entity" target="sensor-readings-entity" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="700" y="500" as="sourcePoint"/>
                        <mxPoint x="750" y="450" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="rel-label-2" value="&lt;b&gt;genera&lt;/b&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;fontStyle=1" parent="rel-sensors-readings" vertex="1" connectable="0">
                    <mxGeometry x="-0.1" y="1" relative="1" as="geometry">
                        <mxPoint x="8" y="-21" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="rel-card-sens-read-1" value="1" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;fontStyle=1" parent="rel-sensors-readings" vertex="1" connectable="0">
                    <mxGeometry x="-0.8" y="1" relative="1" as="geometry">
                        <mxPoint x="-5" y="10" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="rel-card-sens-read-n" value="N" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;fontStyle=1" parent="rel-sensors-readings" vertex="1" connectable="0">
                    <mxGeometry x="0.8" y="1" relative="1" as="geometry">
                        <mxPoint y="9" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="traffic-counter-entity" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;strokeWidth=3;" parent="1" vertex="1">
                    <mxGeometry x="630" y="141.01" width="320" height="300" as="geometry"/>
                </mxCell>
                <mxCell id="traffic-counter-header" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;TRAFFIC_COUNTER_READINGS&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size: 11px;&quot;&gt;(Contador de Tráfico)&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#b85450;strokeColor=#b85450;strokeWidth=2;fontColor=#FFFFFF;" parent="1" vertex="1">
                    <mxGeometry x="630" y="141.01" width="320" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="traffic-counter-attrs" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;i&gt;&lt;font color=&quot;#82b366&quot;&gt;sensor_id&lt;/font&gt;&lt;/i&gt; : TEXT (FK)&lt;br&gt;&lt;b&gt;timestamp&lt;/b&gt; : TIMESTAMP&lt;br&gt;vehicle_count : INTEGER&lt;br&gt;pedestrian_count : INTEGER&lt;br&gt;bicycle_count : INTEGER&lt;br&gt;direction : TEXT&lt;br&gt;counter_type : TEXT&lt;br&gt;technology : TEXT&lt;br&gt;average_speed_kmh : DOUBLE PRECISION&lt;br&gt;occupancy_percentage : DOUBLE PRECISION&lt;br&gt;traffic_density : TEXT&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;spacingLeft=10;fontSize=11;" parent="1" vertex="1">
                    <mxGeometry x="640" y="201.01" width="300" height="230" as="geometry"/>
                </mxCell>
                <mxCell id="rel-sensors-traffic" value="" style="endArrow=ERmany;startArrow=ERone;html=1;rounded=0;strokeWidth=3;strokeColor=#b85450;startFill=0;endFill=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="sensors-header" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="794" y="640" as="sourcePoint"/>
                        <mxPoint x="790" y="440" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="rel-label-3" value="&lt;b&gt;registra&lt;/b&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;fontStyle=1" parent="rel-sensors-traffic" vertex="1" connectable="0">
                    <mxGeometry x="-0.1" y="1" relative="1" as="geometry">
                        <mxPoint x="36" y="-9" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="rel-card-sens-traff-1" value="1" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;fontStyle=1" parent="rel-sensors-traffic" vertex="1" connectable="0">
                    <mxGeometry x="-0.8" y="1" relative="1" as="geometry">
                        <mxPoint x="15" y="10" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="rel-card-sens-traff-n" value="N" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;fontStyle=1" parent="rel-sensors-traffic" vertex="1" connectable="0">
                    <mxGeometry x="0.8" y="1" relative="1" as="geometry">
                        <mxPoint x="15" y="-10" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="traffic-light-entity" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;strokeWidth=3;" parent="1" vertex="1">
                    <mxGeometry x="1030" y="530" width="340" height="380" as="geometry"/>
                </mxCell>
                <mxCell id="traffic-light-header" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;TRAFFIC_LIGHT_READINGS&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size: 11px;&quot;&gt;(Semáforos)&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#9673a6;strokeColor=#9673a6;strokeWidth=2;fontColor=#FFFFFF;" parent="1" vertex="1">
                    <mxGeometry x="1030" y="530" width="340" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="traffic-light-attrs" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;i&gt;&lt;font color=&quot;#82b366&quot;&gt;sensor_id&lt;/font&gt;&lt;/i&gt; : TEXT (FK)&lt;br&gt;&lt;b&gt;timestamp&lt;/b&gt; : TIMESTAMP&lt;br&gt;current_state : TEXT&lt;br&gt;cycle_position_seconds : INTEGER&lt;br&gt;time_remaining_seconds : INTEGER&lt;br&gt;cycle_duration_seconds : INTEGER&lt;br&gt;traffic_light_type : TEXT&lt;br&gt;circulation_direction : TEXT&lt;br&gt;pedestrian_waiting : BOOLEAN&lt;br&gt;pedestrian_button_pressed : BOOLEAN&lt;br&gt;malfunction_detected : BOOLEAN&lt;br&gt;cycle_count : INTEGER&lt;br&gt;state_changed : BOOLEAN&lt;br&gt;last_state_change : TIMESTAMP&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;spacingLeft=10;fontSize=11;" parent="1" vertex="1">
                    <mxGeometry x="1040" y="590" width="320" height="310" as="geometry"/>
                </mxCell>
                <mxCell id="rel-sensors-light" value="" style="endArrow=ERmany;startArrow=ERone;html=1;rounded=0;strokeWidth=3;strokeColor=#9673a6;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startFill=0;endFill=0;" parent="1" source="sensors-entity" target="traffic-light-entity" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="700" y="500" as="sourcePoint"/>
                        <mxPoint x="750" y="450" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="rel-label-4" value="&lt;b&gt;monitorea&lt;/b&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;fontStyle=1" parent="rel-sensors-light" vertex="1" connectable="0">
                    <mxGeometry x="-0.1" y="1" relative="1" as="geometry">
                        <mxPoint x="2" y="-19" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="rel-card-sens-light-1" value="1" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;fontStyle=1" parent="rel-sensors-light" vertex="1" connectable="0">
                    <mxGeometry x="-0.8" y="1" relative="1" as="geometry">
                        <mxPoint x="15" y="10" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="rel-card-sens-light-n" value="N" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;fontStyle=1" parent="rel-sensors-light" vertex="1" connectable="0">
                    <mxGeometry x="0.8" y="1" relative="1" as="geometry">
                        <mxPoint y="21" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="display-entity" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;strokeWidth=3;" parent="1" vertex="1">
                    <mxGeometry x="240" y="930" width="340" height="340" as="geometry"/>
                </mxCell>
                <mxCell id="display-header" value="&lt;b&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;INFORMATION_DISPLAY_READINGS&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size: 11px;&quot;&gt;(Pantallas de Información)&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d79b00;strokeColor=#d79b00;strokeWidth=2;fontColor=#FFFFFF;" parent="1" vertex="1">
                    <mxGeometry x="240" y="930" width="340" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="display-attrs" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;i&gt;&lt;font color=&quot;#82b366&quot;&gt;sensor_id&lt;/font&gt;&lt;/i&gt; : TEXT (FK)&lt;br&gt;&lt;b&gt;timestamp&lt;/b&gt; : TIMESTAMP&lt;br&gt;display_status : TEXT&lt;br&gt;current_message : TEXT&lt;br&gt;content_type : TEXT&lt;br&gt;brightness_level : INTEGER&lt;br&gt;display_type : TEXT&lt;br&gt;display_size_inches : DOUBLE PRECISION&lt;br&gt;supports_color : BOOLEAN&lt;br&gt;temperature_celsius : DOUBLE PRECISION&lt;br&gt;energy_consumption_watts : DOUBLE PRECISION&lt;br&gt;last_content_update : TIMESTAMP&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;spacingLeft=10;fontSize=11;" parent="1" vertex="1">
                    <mxGeometry x="250" y="990" width="320" height="270" as="geometry"/>
                </mxCell>
                <mxCell id="rel-sensors-display" value="" style="endArrow=ERmany;startArrow=ERone;html=1;rounded=0;strokeWidth=3;strokeColor=#d79b00;exitX=0;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0;entryDx=0;entryDy=0;startFill=0;endFill=0;" parent="1" source="sensors-entity" target="display-header" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="700" y="500" as="sourcePoint"/>
                        <mxPoint x="750" y="450" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="rel-label-5" value="&lt;b&gt;controla&lt;/b&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;fontStyle=1" parent="rel-sensors-display" vertex="1" connectable="0">
                    <mxGeometry x="-0.1" y="1" relative="1" as="geometry">
                        <mxPoint x="30" y="11" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="rel-card-sens-disp-1" value="1" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;fontStyle=1" parent="rel-sensors-display" vertex="1" connectable="0">
                    <mxGeometry x="-0.8" y="1" relative="1" as="geometry">
                        <mxPoint x="15" y="10" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="rel-card-sens-disp-n" value="N" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;fontStyle=1" parent="rel-sensors-display" vertex="1" connectable="0">
                    <mxGeometry x="0.8" y="1" relative="1" as="geometry">
                        <mxPoint x="12" y="12" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="other-entity" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;strokeWidth=3;" parent="1" vertex="1">
                    <mxGeometry x="654.44" y="980" width="280" height="160" as="geometry"/>
                </mxCell>
                <mxCell id="other-header" value="&lt;b&gt;&lt;font style=&quot;font-size: 15px;&quot;&gt;OTHER&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size: 11px;&quot;&gt;(Otros Sensores)&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#666666;strokeColor=#666666;strokeWidth=2;fontColor=#FFFFFF;" parent="1" vertex="1">
                    <mxGeometry x="654.44" y="980" width="280" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="other-attrs" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;i&gt;&lt;font color=&quot;#82b366&quot;&gt;sensor_id&lt;/font&gt;&lt;/i&gt; : TEXT (FK)&lt;br&gt;&lt;b&gt;timestamp&lt;/b&gt; : TEXT&lt;br&gt;JSON : TEXT&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;spacingLeft=10;fontSize=11;" parent="1" vertex="1">
                    <mxGeometry x="664.44" y="1040" width="260" height="90" as="geometry"/>
                </mxCell>
                <mxCell id="rel-sensors-other" value="" style="endArrow=ERmany;startArrow=ERone;html=1;rounded=0;strokeWidth=3;strokeColor=#666666;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;startFill=0;endFill=0;" parent="1" source="sensors-entity" target="other-entity" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="700" y="500" as="sourcePoint"/>
                        <mxPoint x="750" y="450" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="rel-label-6" value="&lt;b&gt;almacena&lt;/b&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;fontStyle=1" parent="rel-sensors-other" vertex="1" connectable="0">
                    <mxGeometry x="-0.1" y="1" relative="1" as="geometry">
                        <mxPoint x="45" y="-1" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="rel-card-sens-other-1" value="1" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;fontStyle=1" parent="rel-sensors-other" vertex="1" connectable="0">
                    <mxGeometry x="-0.8" y="1" relative="1" as="geometry">
                        <mxPoint x="15" y="10" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="rel-card-sens-other-n" value="N" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;fontStyle=1" parent="rel-sensors-other" vertex="1" connectable="0">
                    <mxGeometry x="0.8" y="1" relative="1" as="geometry">
                        <mxPoint x="15" y="-10" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="leyenda-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;strokeWidth=2;dashed=1;dashPattern=8 8;" parent="1" vertex="1">
                    <mxGeometry x="1000" y="970" width="400" height="430" as="geometry"/>
                </mxCell>
                <mxCell id="leyenda-titulo" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;LEYENDA&lt;/font&gt;&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="1050" y="980" width="300" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="leyenda-simbolos" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;CONVENCIONES:&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;&lt;u&gt;Subrayado&lt;/u&gt;&lt;/b&gt; = Clave Primaria (PK)&lt;br&gt;&lt;i&gt;&lt;font color=&quot;#82b366&quot;&gt;Cursiva y color&lt;/font&gt;&lt;/i&gt; = Clave Foránea (FK)&lt;br&gt;&lt;b&gt;Negrita&lt;/b&gt; = Campo parte de clave compuesta&lt;br&gt;&lt;br&gt;&lt;b&gt;CARDINALIDADES:&lt;/b&gt;&lt;br&gt;• 1 = Uno&lt;br&gt;• N = Muchos (0 o más)&lt;br&gt;&lt;br&gt;&lt;b&gt;RELACIONES:&lt;/b&gt;&lt;br&gt;• Todos los sensores deben estar asociados a una calle (1:N)&lt;br&gt;• Un sensor puede tener múltiples lecturas a lo largo del tiempo (1:N)&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;spacingLeft=10;fontSize=11;" parent="1" vertex="1">
                    <mxGeometry x="1020" y="1020" width="360" height="230" as="geometry"/>
                </mxCell>
                <mxCell id="leyenda-tipos" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;TIPOS DE SENSORES:&lt;/b&gt;&lt;br&gt;&lt;br&gt;• &lt;b&gt;weather&lt;/b&gt; → Estación meteorológica&lt;br&gt;• &lt;b&gt;traffic_counter&lt;/b&gt; → Contador de tráfico&lt;br&gt;• &lt;b&gt;traffic_light&lt;/b&gt; → Semáforo inteligente&lt;br&gt;• &lt;b&gt;display&lt;/b&gt; → Pantalla de información&lt;br&gt;• &lt;b&gt;other&lt;/b&gt; → Otros tipos (JSON genérico)&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;spacingLeft=10;fontSize=11;" parent="1" vertex="1">
                    <mxGeometry x="1020" y="1220" width="360" height="130" as="geometry"/>
                </mxCell>
                <mxCell id="indices-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;strokeWidth=2;" parent="1" vertex="1">
                    <mxGeometry x="1090" y="160" width="490" height="300" as="geometry"/>
                </mxCell>
                <mxCell id="indices-titulo" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ÍNDICES DE BASE DE DATOS&lt;/font&gt;&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="1110" y="170" width="280" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="indices-lista" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;b&gt;Índices para optimizar consultas:&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;idx_sensor_readings_timestamp&amp;nbsp;&lt;/b&gt;ON sensor_readings(timestamp DESC)&lt;br&gt;&lt;br&gt;&lt;b&gt;idx_sensor_readings_sensor_timestamp&amp;nbsp;&lt;/b&gt;ON sensor_readings(sensor_id, timestamp DESC)&lt;br&gt;&lt;br&gt;&lt;b&gt;idx_traffic_counter_timestamp&amp;nbsp;&lt;/b&gt;ON traffic_counter_readings(timestamp DESC)&lt;br&gt;&lt;br&gt;&lt;b&gt;idx_traffic_light_timestamp&amp;nbsp;&lt;/b&gt;ON traffic_light_readings(timestamp DESC)&lt;br&gt;&lt;br&gt;&lt;b&gt;idx_information_display_timestamp&amp;nbsp;&lt;/b&gt;ON information_display_readings(timestamp DESC)&lt;br&gt;&lt;br&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;Los índices mejoran el rendimiento de consultas por fecha/hora, ordenando en orden descendente.&lt;/font&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;spacingLeft=10;fontSize=11;" parent="1" vertex="1">
                    <mxGeometry x="1090" y="190" width="480" height="240" as="geometry"/>
                </mxCell>
                <mxCell id="nota-carga" value="&lt;b&gt;CARGA INICIAL DE DATOS:&lt;/b&gt;&lt;br&gt;&lt;br&gt;• tabla_calles.csv → STREETS&lt;br&gt;• tabla_sensores.csv → SENSORS" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;strokeWidth=2;fontSize=11;align=left;verticalAlign=top;spacingLeft=10;" parent="1" vertex="1">
                    <mxGeometry x="240" y="1300" width="340" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="descripcion" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;DESCRIPCIÓN DEL MODELO&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;br&gt;Este modelo representa un sistema IoT para Smart City que permite:&lt;br&gt;• Gestionar calles de la ciudad con información geográfica&lt;br&gt;• Registrar múltiples tipos de sensores asociados a cada calle&lt;br&gt;• Almacenar lecturas históricas de 4 tipos diferentes de sensores&lt;br&gt;• Mantener datos genéricos JSON para sensores no tipificados&lt;br&gt;• Optimizar consultas temporales mediante índices especializados" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;strokeWidth=2;fontSize=11;align=left;verticalAlign=top;spacingLeft=10;" parent="1" vertex="1">
                    <mxGeometry x="630" y="1169" width="330" height="210" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>